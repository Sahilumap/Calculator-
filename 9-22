# --- Create an empty hash table of size 10 ---
SIZE = 10
hash_table = [None] * SIZE  # None indicates empty slot

# --- Hash function (Division Method) ---
def hash_function(key):
    return key % SIZE

# --- Insert a key-value pair ---
def insert(key, value):
    index = hash_function(key)
    start_index = index  # to detect full table

    while hash_table[index] is not None:
        if hash_table[index][0] == key:  # key already exists, update value
            hash_table[index][1] = value
            print(f"Updated key {key} with value '{value}' at index {index}")
            return
        index = (index + 1) % SIZE
        if index == start_index:
            print("Hash table is full! Cannot insert key.")
            return

    hash_table[index] = [key, value]
    print(f"Inserted key {key} with value '{value}' at index {index}")

# --- Search for a key ---
def search(key):
    index = hash_function(key)
    start_index = index

    while hash_table[index] is not None:
        if hash_table[index][0] == key:
            print(f"Key {key} found at index {index} with value '{hash_table[index][1]}'")
            return
        index = (index + 1) % SIZE
        if index == start_index:
            break

    print(f"Key {key} not found")

# --- Display hash table ---
def display():
    print("\nCurrent Hash Table:")
    for i in range(SIZE):
        print(f"Index {i}: {hash_table[i]}")
    print()

# --- Menu Loop ---
while True:
    print("===== HASH TABLE MENU (Linear Probing) =====")
    print("1. Insert Key-Value Pair")
    print("2. Search Key")
    print("3. Display Hash Table")
    print("4. Exit")

    choice = input("Enter your choice (1-4): ")

    if choice == "1":
        key = int(input("Enter key (number): "))
        value = input("Enter value: ")
        insert(key, value)

    elif choice == "2":
        key = int(input("Enter key to search: "))
        search(key)

    elif choice == "3":
        display()

    elif choice == "4":
        print("Exiting program. Goodbye!")
        break

    else:
        print("Invalid choice! Please enter a number from 1 to 4.\n")